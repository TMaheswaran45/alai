{"version":3,"file":"static/webpack/static/development/pages/_app.js.8d9665549525d39cd371.hot-update.js","sources":["webpack:///./static/images/shop-image/outdoor_cam.png","webpack:///./store/reducers/cartReducer.js"],"sourcesContent":["module.exports = \"/_next/static/images/outdoor_cam-e286ae637309ed05e8afd7ef65ebe4eb.png\";","import { createStore, applyMiddleware } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport thunkMiddleware from 'redux-thunk';\r\n\r\nimport { \r\n    ADD_TO_CART,\r\n    REMOVE_ITEM,\r\n    SUB_QUANTITY,\r\n    ADD_QUANTITY, \r\n    ADD_SHIPPING,\r\n    ADD_QUANTITY_WITH_NUMBER,\r\n    RESET_CART\r\n} from '../actions/action-types/cart-actions'\r\n\r\nconst initState = {\r\n    products: [\r\n        {\r\n            id: 1,\r\n            title: \"Concealed Smart Switch\",\r\n            price: 10.50,\r\n            image: require(\"../../static/images/shop-image/hidden_switch.png\")\r\n        },\r\n        {\r\n            id: 2,\r\n            title: \"Touch Switch\",\r\n            price: 14.50,\r\n            image: require(\"../../static/images/shop-image/touch_switch.png\")\r\n        },\r\n        {\r\n            id: 3,\r\n            title: \"Indoor Camera\",\r\n            price: 160.00,\r\n            image: require(\"../../static/images/shop-image/indoor_cam.png\")\r\n        },\r\n        {\r\n            id: 4,\r\n            title: \"Outdoor Camera\",\r\n            price: 130,\r\n            image: require(\"../../static/images/shop-image/outdoor_cam.png\")\r\n        },\r\n        {\r\n            id: 5,\r\n            title: \"Single Chair\",\r\n            price: 90,\r\n            image: require(\"../../static/images/shop-image/shop-image5.jpg\")\r\n        },\r\n        {\r\n            id: 6,\r\n            title: \"Business Card\",\r\n            price: 180,\r\n            image: require(\"../../static/images/shop-image/shop-image6.jpg\")\r\n        },\r\n        {\r\n            id: 7,\r\n            title: \"Book Cover\",\r\n            price: 330,\r\n            image: require(\"../../static/images/shop-image/shop-image7.jpg\")\r\n        },\r\n        {\r\n            id: 8,\r\n            title: \"Wall Watch\",\r\n            price: 140,\r\n            image: require(\"../../static/images/shop-image/shop-image8.jpg\")\r\n        },\r\n        {\r\n            id: 9,\r\n            title: \"Wood Pencil\",\r\n            price: 430,\r\n            image: require(\"../../static/images/shop-image/shop-image1.jpg\")\r\n        },\r\n        {\r\n            id: 10,\r\n            title: \"T-Shirt\",\r\n            price: 650,\r\n            image: require(\"../../static/images/shop-image/shop-image2.jpg\")\r\n        },\r\n        {\r\n            id: 11,\r\n            title: \"Casual Shoe\",\r\n            price: 230,\r\n            image: require(\"../../static/images/shop-image/shop-image3.jpg\")\r\n        },\r\n        {\r\n            id: 12,\r\n            title: \"Coffee Bag\",\r\n            price: 670,\r\n            image: require(\"../../static/images/shop-image/shop-image4.jpg\")\r\n        }\r\n    ],\r\n    addedItems:[],\r\n    total: 0,\r\n    shipping: 0\r\n}\r\n\r\nconst cartReducer= (state = initState, action) => {\r\n   \r\n    if(action.type === ADD_TO_CART){\r\n        let addedItem = state.products.find(item => item.id === action.id)\r\n        //check if the action id exists in the addedItems\r\n        let existed_item= state.addedItems.find(item=> action.id === item.id)\r\n        if(existed_item)\r\n        {\r\n            addedItem.quantity += 1 \r\n            return {\r\n                ...state,\r\n                total: state.total + addedItem.price \r\n            }\r\n        } else {\r\n            addedItem.quantity = 1;\r\n            //calculating the total\r\n            let newTotal = state.total + addedItem.price \r\n            \r\n            return {\r\n                ...state,\r\n                addedItems: [...state.addedItems, addedItem],\r\n                total : newTotal\r\n            }\r\n            \r\n        }\r\n    }\r\n\r\n    if(action.type === ADD_QUANTITY_WITH_NUMBER){\r\n        let addedItem = state.products.find(item => item.id === action.id)\r\n        //check if the action id exists in the addedItems\r\n        let existed_item= state.addedItems.find(item=> action.id === item.id)\r\n        if(existed_item)\r\n        {\r\n            addedItem.quantity += action.qty\r\n            return {\r\n                ...state,\r\n                total: state.total + addedItem.price * action.qty\r\n            }\r\n        } else {\r\n            addedItem.quantity = action.qty;\r\n            //calculating the total\r\n            let newTotal = state.total + addedItem.price * action.qty\r\n            \r\n            return {\r\n                ...state,\r\n                addedItems: [...state.addedItems, addedItem],\r\n                total : newTotal\r\n            }\r\n            \r\n        }\r\n    }\r\n    \r\n\r\n    if(action.type === REMOVE_ITEM){\r\n        let itemToRemove= state.addedItems.find(item=> action.id === item.id)\r\n        let new_items = state.addedItems.filter(item=> action.id !== item.id)\r\n        \r\n        //calculating the total\r\n        let newTotal = state.total - (itemToRemove.price * itemToRemove.quantity );\r\n\r\n        return {\r\n            ...state,\r\n            addedItems: new_items,\r\n            total: newTotal\r\n        }\r\n    }\r\n\r\n    if(action.type === ADD_QUANTITY){\r\n        let addedItem = state.products.find(item=> item.id === action.id)\r\n        addedItem.quantity += 1 \r\n        let newTotal = state.total + addedItem.price\r\n        return {\r\n            ...state,\r\n            total: newTotal\r\n        }\r\n    }\r\n\r\n    if(action.type === SUB_QUANTITY){  \r\n        let addedItem = state.products.find(item=> item.id === action.id) \r\n        //if the qt == 0 then it should be removed\r\n        if(addedItem.quantity === 1){\r\n            let new_items = state.addedItems.filter(item=>item.id !== action.id)\r\n            let newTotal = state.total - addedItem.price\r\n            return {\r\n                ...state,\r\n                addedItems: new_items,\r\n                total: newTotal\r\n            }\r\n        } else {\r\n            addedItem.quantity -= 1\r\n            let newTotal = state.total - addedItem.price\r\n            return {\r\n                ...state,\r\n                total: newTotal\r\n            }\r\n        }\r\n        \r\n    }\r\n\r\n    if(action.type === ADD_SHIPPING){\r\n        return {\r\n            ...state,\r\n            shipping: state.shipping += 6\r\n        }\r\n    }\r\n\r\n    if(action.type === 'SUB_SHIPPING'){\r\n        return {\r\n            ...state,\r\n            shipping: state.shipping -= 6\r\n        }\r\n    }\r\n\r\n    if(action.type === RESET_CART){\r\n        return {\r\n            ...state,\r\n            addedItems: [],\r\n            total: 0,\r\n            shipping: 0\r\n        }\r\n    }\r\n    \r\n    else {\r\n        return state\r\n    }\r\n}\r\n\r\nexport const initStore = (initialState = initState) => {\r\n    return createStore(\r\n        cartReducer,\r\n        initialState,\r\n        composeWithDevTools(applyMiddleware(thunkMiddleware))\r\n    )\r\n}\r\n"],"mappings":";;;;;;;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;AAEA;AAUA;AACA;AAEA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AA7EA;AACA;AA+EA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAEA;AACA;AAEA;AAFA;AAIA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAHA;AAMA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAEA;AACA;AAEA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAHA;AAMA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAHA;AAKA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAEA;AAFA;AAIA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAEA;AACA;AAHA;AAKA;AACA;AACA;AAAA;AACA;AAAA;AAEA;AAFA;AAIA;AAEA;AACA;AACA;AACA;AAEA;AAFA;AAIA;AACA;AACA;AACA;AAEA;AAFA;AAIA;AACA;AACA;AACA;AAEA;AACA;AACA;AAJA;AAMA;AAGA;AACA;AACA;AACA;AACA;AAAA;AACA;AAKA;;;;A","sourceRoot":""}